# C++面向对象基础

## 什么是面向对象

- 面向过程PO(Procedure Oriented): 以过程为中心，以数据为辅助，数据和操作数据的函数是分离的。
  - 优点：性能
  - 缺点：易读性差，代码扩展性差
- 面向对象OO(Object Oriented): 以对象为中心，以类和对象为基本单位，数据和操作数据的函数是封装在一起的。
  - 优点：易读性好，代码扩展性好
  - 缺点：性能有一定的损失

## C++式的面向对象

- 性能和面向对象，全都要
- 性能和C几乎一样
- C++也有很多性能优化的技巧

## 面向对象的三大特性

- 继承
  - 使子类拥有父类的属性和方法
  - 继承方法多样，限定符值使用public
- 封装
  - 将事物封装成类，类可以把数据和方法只对特定的类或方法开放
  - 知识点：友元函数，限定符
- 多态
  - 为不同数据类型的实体提供统一的接口，使用一个单一的符号来表示多个不同的类型
  - C++通过纯虚函数来实现接口的功能，C++程序项目设计的基石
- 三大特性是设计模式的基石

## 类、对象

- 对象有两种生成的方式
  - 在栈上：`Box box1;`
  - 在堆上，注意删除： `Box *box1 = new Box()`
- 方法与属性
- 属性
  - 对象相关的属性
  - 类相关的属性，即类属性
- 方法
  - 构造函数赋值
  - Getter和Setter
- this指针
  - 指向对象本身的指针
  - 用于区分局部变量和成员变量
  - 用处
    - 命名冲突
    - 打印对象地址
    - 链式调用
      - 返回引用
      - 返回指针

## Getter与Setter

- Getter返回属性值，类型为属性的类型
- Setter修改属性值，类型为void

## 多文件与类

- 文件名一般为类的名字
- .h为类型声明与简单的方法
- .cpp文件写方法体
- constant.h写入常量

## Const与不可变对象

### Const Object

- C++中的如果需要值保持不变，就应该使用const，这样可以用编译器来强制约束这个值
- Const会给代码的编写带来难度
- Const Object有三种形式
  - 值
  - 引用
  - 指针

### Const Method

- const实例是不能调用不加const修饰的成员方法的
- 必须限定方法为const，表示方法不会修改对象
  - 如：void get_name const ()

### Const实例作为函数参数

- Const Object作为形参的函数
- 在函数题中不能调用对象的非const方法
- 函数的两种形式
  - 参数限定为可变
  - 参数限定为不可变
  - 另外还有值、引用、指针之分

## 可变对象与不可变对象

- 可变对象可以调用const值、引用、指针作为参数函数
- 不可变对象是否可以调用非const函数？
  - 不可变对象值可调用非const值函数
  - 不可变对象引用不可调用非const引用函数
  - 不可变对象指针不可调用非const指针函数
- 推荐类设计时：尽量使用const
